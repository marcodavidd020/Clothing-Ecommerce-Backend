{
    "version": 2,
    "name": "ecommerce-api",
    "builds": [
      {
        "src": "dist/main.js",
        "use": "@vercel/node",
        "config": {
          "includeFiles": [
            "dist/**",
            "node_modules/**",
            "package.json"
          ]
        }
      }
    ],
    "routes": [
      {
        "src": "/health",
        "dest": "/dist/main.js",
        "methods": ["GET"]
      },
      {
        "src": "/api/docs",
        "dest": "/dist/main.js",
        "methods": ["GET"]
      },
      {
        "src": "/api/docs/(.*)",
        "dest": "/dist/main.js",
        "methods": ["GET"]
      },
      {
        "src": "/api/(.*)",
        "dest": "/dist/main.js",
        "methods": ["GET", "POST", "PUT", "DELETE", "PATCH", "OPTIONS"]
      },
      {
        "src": "/(.*)",
        "dest": "/dist/main.js"
      }
    ],
    "env": {
      "NODE_ENV": "production"
    },
    "functions": {
      "dist/main.js": {
        "maxDuration": 30
      }
    },
    "regions": ["iad1"],
    "rewrites": [
      {
        "source": "/api/(.*)",
        "destination": "/api/$1"
      }
    ]
  }